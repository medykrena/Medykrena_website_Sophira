<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact – Sophira</title>

  <!-- SEO -->
  <link rel="canonical" href="https://sophira.ch/contact.html" />
  <meta name="robots" content="index,follow" />
  <meta name="description" content="Contactez l'association Sophira : adresse, email, téléphone et plan d'accès à Bâle, Suisse. Formulaire de contact disponible." />

  <!-- Open Graph -->
  <meta property="og:title" content="Contact – Sophira" />
  <meta property="og:description" content="Coordonnées et plan d'accès pour contacter Sophira, association pour la reconversion en Suisse." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://sophira.ch/contact.html" />
  <meta property="og:image" content="https://sophira.ch/Logo_sophira.png" />

  <!-- TikTok / Social -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Contact – Sophira" />
  <meta name="twitter:description" content="Adresse, email et téléphone de Sophira, association pour la reconversion en Suisse." />
  <meta name="twitter:image" content="https://sophira.ch/Logo_sophira.png" />

  <!-- Police -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --text:#2c3e50; --muted:#4a5568; --brand:#1a73e8; --brand-hover:#155ab6;
      --bg-overlay:rgba(255,255,255,0.95); --whiteglass:#ffffffdd; --radius:12px;
      --shadow-sm:0 2px 8px rgba(0,0,0,0.05); --shadow-md:0 4px 12px rgba(0,0,0,0.08);
      --container:960px; --ok:#065f46; --warn:#92400e; --panel:#f8fafc;
    }
    body{
      margin:0; font-family:'Inter',sans-serif; background:url('mathew-schwartz-91ryOVMlBJc-unsplash.jpg') no-repeat center/cover fixed; color:var(--text);
    }
    .overlay{ background-color:var(--bg-overlay); min-height:100vh; display:flex; flex-direction:column; }

    /* NAVBAR (même style que le site) */
    header.navbar{
      position:sticky; top:0; z-index:20; display:flex; align-items:center; justify-content:space-between; gap:.75rem;
      padding:.8rem 1rem; background:var(--whiteglass); box-shadow:var(--shadow-sm); backdrop-filter:blur(6px);
    }
    .brand{ display:flex; align-items:center; gap:.6rem; text-decoration:none; }
    .brand img{ height:55px; }
    .brand h1{ margin:0; font-size:1.7rem; font-weight:600; color:#1a202c; }
    nav.primary{ display:flex; gap:1.1rem; }
    nav.primary a{ text-decoration:none; color:var(--text); font-weight:500; }
    nav.primary a:hover{ color:#1e88e5; }
    .burger{ display:none; background:none; border:none; padding:.4rem .6rem; }
    .burger svg{ width:28px; height:28px; }
    .mobile-panel{ display:none; position:fixed; inset:64px 0 0 0; background:#ffffffdd; backdrop-filter:blur(6px); padding:1rem; }
    .mobile-links{ display:flex; flex-direction:column; gap:.8rem; }
    .mobile-links a{ text-decoration:none; color:var(--text); font-weight:600; padding:.7rem 0; border-bottom:1px solid #ddd; }
    .mobile-links a:last-child{ border-bottom:none; }
    .hidden{ display:none !important; }
    @media(max-width:880px){ nav.primary{ display:none; } .burger{ display:inline-flex; } }

    /* LAYOUT */
    .container{ flex:1; max-width:var(--container); margin:2rem auto; padding:0 1rem; }
    .content{ background:#ffffffdd; padding:2rem; border-radius:var(--radius); box-shadow:var(--shadow-sm); }
    .content h2{ text-align:center; margin-top:0; }
    .contact-info{ margin-top:1.5rem; font-size:1rem; }

    /* Bandeau contexte (référence depuis le portail) */
    .context{
      margin:1rem 0 0; padding:.9rem 1rem; border-radius:10px; border:1px solid #cbd5e1; background:#f1f5f9; color:#0f172a;
      display:none;
    }
    .context strong{ color:#0f172a; }
    .context.ok{ border-color:#a7f3d0; background:#ecfdf5; color:#064e3b; }
    .context.warn{ border-color:#fed7aa; background:#fff7ed; color:#7c2d12; }

    iframe{ width:100%; height:350px; border:none; border-radius:var(--radius); margin-top:2rem; }

    /* Formulaire Netlify */
    .form-card{ margin-top:1.2rem; background:#fff; border:1px solid #e5e7eb; border-radius:12px; box-shadow:var(--shadow-sm); padding:1rem; }
    form label{ display:block; margin:.6rem 0 .25rem; font-weight:600; }
    input, textarea{ width:100%; padding:.6rem .7rem; border:1px solid #d1d5db; border-radius:8px; }
    .actions{ display:flex; gap:.6rem; flex-wrap:wrap; margin-top:.8rem; }
    .btn{ display:inline-block; background:var(--brand); color:#fff; text-decoration:none; padding:.6rem 1.1rem; border-radius:8px; font-weight:700; border:none; cursor:pointer; }
    .btn:hover{ background:var(--brand-hover); }
    .btn.outline{ background:transparent; color:var(--brand); border:2px solid var(--brand); }
    .btn.outline:hover{ background:#e8f0fe; }

    /* Bloc “Suivez-nous” */
    .social{ margin-top:2rem; background:var(--panel); border:1px solid #e5e7eb; border-radius:12px; padding:1rem; }
    .social h3{ margin:.2rem 0 .6rem; }
    .social a{ display:inline-block; margin-right:.6rem; text-decoration:none; font-weight:700; }
    .tiktok{ color:#000; }
    .linkedin{ color:#0a66c2; }

    footer{ text-align:center; padding:1rem; margin-top:3rem; font-size:.95rem; color:#4a4a4a; background:var(--whiteglass); border-top-left-radius:var(--radius); border-top-right-radius:var(--radius); }
  </style>
</head>
<body>
  <div class="overlay">
    <!-- NAVIGATION -->
    <header class="navbar">
      <a class="brand" href="index.html">
        <img src="Logo_sophira.png" alt="Logo Sophira" />
        <h1>Sophira</h1>
      </a>
      <nav class="primary" aria-label="Liens principaux">
        <a href="index.html">Accueil</a>
        <a href="team.html">Équipe</a>
        <a href="project.html">Projet social</a>
        <a href="dashboard.html">Tableau de bord</a>
        <a href="blog.html">Blog</a>
        <a href="jobs/index.html">Portail Emplois</a>
        <a href="contact.html" aria-current="page">Contact</a>
      </nav>
      <button class="burger" id="burger" aria-label="Ouvrir le menu" aria-controls="menu-mobile" aria-expanded="false">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M3 6h18M3 12h18M3 18h18" stroke-width="2" stroke-linecap="round"/></svg>
      </button>
    </header>

    <!-- MENU MOBILE -->
    <div id="menu-mobile" class="mobile-panel hidden">
      <div class="mobile-links">
        <a href="index.html">Accueil</a>
        <a href="team.html">Équipe</a>
        <a href="project.html">Projet social</a>
        <a href="dashboard.html">Tableau de bord</a>
        <a href="blog.html">Blog</a>
        <a href="jobs/index.html">Portail Emplois</a>
        <a href="contact.html" aria-current="page">Contact</a>
      </div>
    </div>

    <!-- CONTENU -->
    <main class="container">
      <div class="content">
        <h2>Contactez-nous</h2>

        <!-- Bandeau contextuel (si ?ref= / ?type=) -->
        <div id="ctx" class="context" role="status" aria-live="polite"></div>

        <div class="contact-info">
          <p><strong>Adresse :</strong> Sandgrubenstrasse, 4058 Bâle, Suisse</p>
          <p><strong>Email :</strong> association_sophira@protonmail.com</p>
          <p><strong>Téléphone :</strong> +41 79 123 45 67</p>
        </div>

        <!-- Google Maps -->
        <iframe
          src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2752.415159526313!2d7.588576115595142!3d47.55959817918171!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4791b9a6f3e10ff7%3A0xdea0a2f76e49767f!2sBasel%2C%20Switzerland!5e0!3m2!1sfr!2sch!4v1691010100000"
          allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>

      <!-- Formulaire Netlify (contact + référence d’offre/profil) -->
      <section class="form-card" aria-label="Formulaire de contact">
        <h3>Envoyer un message</h3>
        <p class="muted">Si vous venez du Portail Emplois, la référence est transmise automatiquement.</p>

        <form name="sophira-contact" method="POST" data-netlify="true" netlify-honeypot="bot-field" action="/merci.html">
          <input type="hidden" name="form-name" value="sophira-contact" />
          <p style="display:none"><label>Ne pas remplir: <input name="bot-field" /></label></p>

          <!-- Champ caché alimenté par l’URL -->
          <input type="hidden" id="f-ref" name="ref" />
          <input type="hidden" id="f-type" name="type" />

          <label for="f-nom">Nom et prénom</label>
          <input id="f-nom" name="nom" autocomplete="name" required />

          <label for="f-email">E-mail</label>
          <input id="f-email" type="email" name="email" autocomplete="email" required />

          <label for="f-msg">Message</label>
          <textarea id="f-msg" name="message" rows="5" placeholder="Votre demande..."></textarea>

          <label><input type="checkbox" name="consent" required /> J’accepte que mes données soient utilisées pour me recontacter.</label>

          <div class="actions">
            <button class="btn" type="submit">Envoyer</button>
            <a class="btn outline" href="jobs/index.html">Aller au Portail Emplois</a>
          </div>
        </form>
      </section>

      <!-- Bloc “Suivez-nous” -->
      <section class="social" aria-label="Réseaux sociaux">
        <h3>Suivez-nous</h3>
        <p class="muted">Restez informé·e des actions, événements et nouvelles opportunités.</p>
        <a class="tiktok" href="https://www.tiktok.com/@sophira" target="_blank" rel="noopener">TikTok</a>
        <a class="linkedin" href="https://www.linkedin.com/company/sophira" target="_blank" rel="noopener">LinkedIn</a>
      </section>
    </main>

    <footer>
      <p>&copy; 2025 Sophira Association | Basel, Suisse</p>
    </footer>
  </div>

  <!-- JS : menu mobile + bandeau contexte + préremplissage -->
  <script>
    // Menu mobile
    (function(){
      const burger=document.getElementById('burger');
      const panel=document.getElementById('menu-mobile');
      if(!burger||!panel) return;
      function toggleMenu(){
        const open=panel.classList.toggle('hidden')===false;
        burger.setAttribute('aria-expanded',String(open));
      }
      burger.addEventListener('click',toggleMenu);
      document.addEventListener('click',(e)=>{ if(!panel.classList.contains('hidden') && !panel.contains(e.target) && !burger.contains(e.target)) toggleMenu(); });
      document.addEventListener('keydown',(e)=>{ if(e.key==='Escape' && !panel.classList.contains('hidden')) toggleMenu(); });
    })();

    // Lecture des paramètres d’URL (ref, type, from)
    (function(){
      const params = new URLSearchParams(window.location.search);
      const ref = params.get('ref');
      const type = params.get('type'); // "offer" | "candidate" (depuis le portail)
      const from = params.get('from');

      // Remplit les champs cachés du formulaire
      if(ref) document.getElementById('f-ref').value = ref;
      if(type) document.getElementById('f-type').value = type;

      // Affiche un bandeau contexte
      const ctx = document.getElementById('ctx');
      if(!ctx) return;

      if(ref && type){
        ctx.classList.add('ok');
        const label = (type === 'offer') ? "offre" : (type === 'candidate' ? "profil candidat" : "référence");
        ctx.innerHTML = `Référence transmise : <strong>${ref}</strong> (${label}). Nous relierons votre message à ce dossier.`;
        ctx.style.display = 'block';
      } else if (from === 'profil') {
        ctx.classList.add('warn');
        ctx.innerHTML = `Vous contactez Sophira depuis votre espace profil. N’oubliez pas d’indiquer l’objet de votre demande.`;
        ctx.style.display = 'block';
      }
    })();
  </script>
</body>
</html>
